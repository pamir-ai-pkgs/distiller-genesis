# Configuration for git-buildpackage

[DEFAULT]
# Use pristine-tar for original tarballs
pristine-tar = True

# Build configuration
builder = debuild -i -I

# Debian branch (where debian/ directory lives)
debian-branch = main

# Upstream branch
upstream-branch = upstream

# Upstream tag format
upstream-tag = v%(version)s

# Don't sign tags by default (can override with --git-sign-tags)
sign-tags = False

# Export directory for builds
export-dir = ../build-area/

# Cleaner command
cleaner = fakeroot debian/rules clean

# Color output
color = auto

# Notification on build completion
notify = off

[buildpackage]
# Always run lintian after build
postbuild = lintian -I --show-overrides $GBP_CHANGES_FILE

# Tag after successful build
posttag = git push --all && git push --tags

[import-orig]
# Compression for upstream tarballs
compression = xz
compression-level = 9

# Filter out unnecessary files
filter-pristine-tar = True
filter = [
    '.git',
    '.gitignore',
    '.github',
    '*.pyc',
    '__pycache__',
    '.DS_Store',
    'venv',
    '.venv'
    ]

[dch]
# Automatic changelog entries
multimaint-merge = True
git-author = True
